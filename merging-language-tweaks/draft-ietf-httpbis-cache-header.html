<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>The Cache-Status HTTP Response Header</title><script>
function anchorRewrite() {
  map = { };
  if (window.location.hash.length >= 1) {
    var fragid = window.location.hash.substr(1);
    if (fragid) {
      if (! document.getElementById(fragid)) {
        var prefix = "rfc.";
        var mapped = map[fragid];
        if (mapped) {
          window.location.hash = mapped;
        } else if (fragid.indexOf("section-") == 0) {
          window.location.hash = prefix + "section." + fragid.substring(8);
        } else if (fragid.indexOf("appendix-") == 0) {
          window.location.hash = prefix + "section." + fragid.substring(9);
        } else if (fragid.indexOf("s-") == 0) {
          var postfix = fragid.substring(2);
          if (postfix.startsWith("abstract")) {
            window.location.hash = prefix + postfix;
          } else if (postfix.startsWith("note-")) {
            window.location.hash = prefix + "note." + postfix.substring(5);
          } else {
            window.location.hash = prefix + "section." + postfix;
          }
        } else if (fragid.indexOf("p-") == 0) {
          var r = fragid.substring(2);
          var p = r.indexOf("-");
          if (p >= 0) {
            window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
          }
        }
      }
    }  
  }
}
window.addEventListener('hashchange', anchorRewrite);
window.addEventListener('DOMContentLoaded', anchorRewrite);
</script><!--Specified as xml2rfc-ext-css-contents--><style>
body {
  font: 16px "Helvetica Neue","Open Sans",Helvetica,Calibri,sans-serif;
  color: #333;
  font-size-adjust: 0.5;
  line-height: 24px;
  margin: 75px auto;
  max-width: 624px;
  padding: 0 5px;
}

.title, .filename, h1, h2, h3, h4, h5 {
  font: 16px "Roboto Condensed","Helvetica Neue","Open Sans",Helvetica,Calibri,sans-serif;
  font-size-adjust: 0.5;
  font-weight: bold;
  color: #333;
  line-height: 100%;
  margin: 1.2em 0 0.3em;
}
.title, #rfc\.title h1 { font-size: 32px; }
h1, section h1, h2, section h2, section h3, nav h2 { font-size: 20px; }
h3, section h4, h4, section h5 { font-size: 16px; }
h1 a[href], h2 a[href], h3 a[href], h4 a[href] {
  color: #333;
}

table {
  margin-left: 0em;
  border-collapse: collapse;
}
th {
  text-align: left;
  border-bottom: 2px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
  vertical-align: top;
}
tr:nth-child(2n+1) > td,
tr:nth-child(2n+1) > th {
  background-color: #f9f9f9;
}
td.reference {
  max-width: 200px;
  border-top: none;
  padding-right: 1em;
}
.right {
  text-align: right;
}


table.header, table#rfc\.headerblock {
  width: 100%;
}
table.header td, table#rfc\.headerblock td {
  border: none;
  background-color: transparent;
  color: black;
  padding: 0;
}
.filename {
  display: block;
  color: rgb(119, 119, 119);
  font-size: 20px;
  font-weight: normal;
  line-height: 100%;
  margin: 10px 0 32px;
}
#rfc\.abstract+p, #rfc\.abstract+p code, #rfc\.abstract+p samp, #rfc\.abstract+p tt {
  font-size: 20px;
  line-height: 28px;
}

samp, tt, code, pre, span.tt {
  font-size: 13.5px;
  font-family: Consolas, monospace;
  font-size-adjust: none;
}
pre {
  background-color: #eee;
  border: 1px solid #ddd;
  overflow-x: auto;
  padding: 5px;
  margin: 5px;
}
.figure, caption {
  font-style: italic;
  margin: 0 1.5em;
  text-align: left;
}

address {
  margin: 16px 2px;
  line-height: 20px;
}
.vcard {
  font-style: normal;
}
.vcardline {
  display: block;
}
.vcardline .fn, address b {
  font-weight: normal;
}
.vcardline .hidden {
  display: none;
}

dl {
  margin-left: 1em;
}
dl.dl-horizontal: {
  margin-left: 0;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}

hr {
  border: 0;
  border-top: 1px solid #eee;
}
hr.noprint {
  display: none;
}

a {
  text-decoration: none;
}
a[href] {
  color: #2a6496;
}
a[href]:hover {
  background-color: #eee;
}

p, ol, ul, li {
  padding: 0;
}
p {
  margin: 0.5em 0;
}
ol, ul {
  margin: 0.2em 0 0.2em 2em;
}
li {
  margin: 0.2em 0;
}
address {
  font-style: normal;
}

ul.toc ul {
  margin: 0 0 0 2em;
}
ul.toc li {
  list-style: none;
  margin: 0;
}

@media screen and (min-width: 924px) {
  body {
    padding-right: 350px;
  }
  body>ul.toc, body>#rfc\.toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 500px);
    width: 300px;
    z-index: 1;
    overflow: auto;
    overscroll-behavior: contain;
  }
  body>#rfc\.toc {
    top: 55px;
  }
  body>ul.toc {
    top: 100px;
  }

  ul.toc {
    margin: 0 0 0 4px;
    font-size: 12px;
    line-height: 20px;
  }
  ul.toc ul {
    margin-left: 1.2em;
  }
}</style><link rel="Contents" href="#rfc.toc"><link rel="Author" href="#rfc.authors"><link rel="License" href="#rfc.copyrightnotice"><link rel="Chapter" title="1 Introduction" href="#rfc.section.1"><link rel="Chapter" title="2 The Cache-Status HTTP Response Header" href="#rfc.section.2"><link rel="Chapter" title="3 Examples" href="#rfc.section.3"><link rel="Chapter" title="4 Security Considerations" href="#rfc.section.4"><link rel="Chapter" title="5 References" href="#rfc.section.5"><meta name="viewport" content="initial-scale=1"><meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.1256, 2020/02/20 09:08:59, XSLT vendor: libxslt http://xmlsoft.org/XSLT/, via: https://github.com/cabo/kramdown-rfc2629 version 1.2.13"><meta name="keywords" content="Internet-Draft"><link rel="schema.dcterms" href="http://purl.org/dc/terms/"><meta name="dcterms.creator" content="Nottingham, M."><meta name="dcterms.issued" content="2019-WRONG SYNTAX FOR MONTH"><meta name="dcterms.abstract" content="To aid debugging, HTTP caches often append headers to a response detailing how they handled the request. This specification codifies that practice and updates it for HTTP’s current caching model."><meta name="description" content="To aid debugging, HTTP caches often append headers to a response detailing how they handled the request. This specification codifies that practice and updates it for HTTP’s current caching model."></head><body><header><table class="header" id="rfc.headerblock"><tbody><tr><td class="left">HTTP Working Group</td><td class="right">M. Nottingham</td></tr><tr><td class="left">Internet-Draft</td><td class="right">Fastly</td></tr><tr><td class="left">Intended status: Standards Track</td><td class="right"> 2019</td></tr><tr><td class="left">Expires: WRONG SYNTAX FOR MONTH</td><td class="right"></td></tr></tbody></table><div id="rfc.title"><h1>The Cache-Status HTTP Response Header</h1><div class="filename"><a href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-cache-header" class="smpl">draft-ietf-httpbis-cache-header-latest</a></div></div></header><section><h2 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h2><div id="rfc.abstract.p.1"><p>To aid debugging, HTTP caches often append headers to a response detailing how they handled the request. This specification codifies that practice and updates it for HTTP’s current caching model.</p></div></section><section class="note"><h2 id="rfc.note.1"><a href="#rfc.note.1">Note to Readers</a></h2><div id="rfc.note.1.p.1"><p><em>RFC EDITOR: please remove this section before publication</em></p></div><div id="rfc.note.1.p.2"><p>Discussion of this draft takes place on the HTTP working group mailing list (ietf-http-wg@w3.org), which is archived at <a href="https://lists.w3.org/Archives/Public/ietf-http-wg/">https://lists.w3.org/Archives/Public/ietf-http-wg/</a>.</p></div><div id="rfc.note.1.p.3"><p>Working Group information can be found at <a href="https://httpwg.org/">https://httpwg.org/</a>; source code and issues list for this draft can be found at <a href="https://github.com/httpwg/http-extensions/labels/cache-header">https://github.com/httpwg/http-extensions/labels/cache-header</a>.</p></div></section><section id="rfc.status"><h2><a href="#rfc.status">Status of this Memo</a></h2><div id="rfc.boilerplate.1.p.1"><p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p></div><div id="rfc.boilerplate.1.p.2"><p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF). Note that other groups may also distribute working documents as Internet-Drafts. The list of current Internet-Drafts is at <a href="http://datatracker.ietf.org/drafts/current/">http://datatracker.ietf.org/drafts/current/</a>.</p></div><div id="rfc.boilerplate.1.p.3"><p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as “work in progress”.</p></div><div id="rfc.boilerplate.1.p.4"><p>This Internet-Draft will expire in WRONG SYNTAX FOR MONTH.</p></div></section><section id="rfc.copyrightnotice"><h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2><div id="rfc.boilerplate.2.p.1"><p>Copyright (c) 2019 IETF Trust and the persons identified as the document authors. All rights reserved.</p></div><div id="rfc.boilerplate.2.p.2"><p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p></div></section><hr class="noprint"><nav id="rfc.toc"><h2 class="np"><a href="#rfc.toc">Table of Contents</a></h2><ul class="toc"><li><a href="#rfc.section.1">1.</a>   <a href="#introduction">Introduction</a><ul><li><a href="#rfc.section.1.1">1.1.</a>   <a href="#notational-conventions">Notational Conventions</a></li></ul></li><li><a href="#rfc.section.2">2.</a>   <a href="#the-cache-status-http-response-header">The Cache-Status HTTP Response Header</a><ul><li><a href="#rfc.section.2.1">2.1.</a>   <a href="#the-fwd-parameter">The fwd parameter</a></li><li><a href="#rfc.section.2.2">2.2.</a>   <a href="#the-fwd-res-parameter">The fwd-res parameter</a></li><li><a href="#rfc.section.2.3">2.3.</a>   <a href="#the-fwd-stored-parameter">The fwd-stored parameter</a></li><li><a href="#rfc.section.2.4">2.4.</a>   <a href="#the-res-fresh-parameter">The res-fresh parameter</a></li><li><a href="#rfc.section.2.5">2.5.</a>   <a href="#the-cache-fresh-parameter">The cache-fresh parameter</a></li><li><a href="#rfc.section.2.6">2.6.</a>   <a href="#the-collapse-hit-parameter">The collapse-hit parameter</a></li><li><a href="#rfc.section.2.7">2.7.</a>   <a href="#the-collapse-wait-parameter">The collapse-wait parameter</a></li><li><a href="#rfc.section.2.8">2.8.</a>   <a href="#the-key-parameter">The key parameter</a></li></ul></li><li><a href="#rfc.section.3">3.</a>   <a href="#examples">Examples</a></li><li><a href="#rfc.section.4">4.</a>   <a href="#security-considerations">Security Considerations</a></li><li><a href="#rfc.section.5">5.</a>   <a href="#rfc.references">References</a><ul><li><a href="#rfc.section.5.1">5.1.</a>   <a href="#rfc.references.1">Normative References</a></li><li><a href="#rfc.section.5.2">5.2.</a>   <a href="#rfc.references.2">Informative References</a></li></ul></li><li><a href="#rfc.authors">Author's Address</a></li></ul></nav><section id="introduction"><h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a> <a href="#introduction">Introduction</a></h2><div id="rfc.section.1.p.1"><p>To aid debugging, HTTP caches often append headers to a response detailing how they handled the request.</p></div><div id="rfc.section.1.p.2"><p>Unfortunately, the semantics of these headers are often unclear, and both the semantics and syntax used vary greatly between implementations.</p></div><div id="rfc.section.1.p.3"><p>This specification defines a single, new HTTP response header field, “Cache-Status” for this purpose.</p></div><section id="notational-conventions"><h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a> <a href="#notational-conventions">Notational Conventions</a></h3><div id="rfc.section.1.1.p.1"><p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “NOT RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in BCP 14 <a href="#RFC2119"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a> <a href="#RFC8174"><cite title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">[RFC8174]</cite></a> when, and only when, they appear in all capitals, as shown here.</p></div><div id="rfc.section.1.1.p.2"><p>This document uses ABNF as defined in <a href="#RFC5234"><cite title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a>, along with the “%s” extension for case sensitivity defined in <a href="#RFC7405"><cite title="Case-Sensitive String Support in ABNF">[RFC7405]</cite></a>.</p></div></section></section><section id="the-cache-status-http-response-header"><h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a> <a href="#the-cache-status-http-response-header">The Cache-Status HTTP Response Header</a></h2><div id="rfc.section.2.p.1"><p>The Cache-Status HTTP response header indicates caches’ handling of the request corresponding to the response it occurs within.</p></div><div id="rfc.section.2.p.2" class="avoidbreakafter"><p>Its value is a List <a href="#I-D.ietf-httpbis-header-structure"><cite title="Structured Headers for HTTP">[I-D.ietf-httpbis-header-structure]</cite></a>:</p></div><div id="rfc.figure.u.1"><div><pre class="inline">
Cache-Status   = sh-list
</pre></div></div><div id="rfc.section.2.p.3"><p>Each member of the parameterised list represents a cache that has handled the request. The first member of the list represents the cache closest to the origin server, and the last member of the list represents the cache closest to the user agent (possibly including the user agent’s cache itself, if it chooses to append a value).</p></div><div id="rfc.section.2.p.4"><p>Caches determine when it is appropriate to add the Cache-Status header field to a response. Some might decide to add it to all responses, whereas others might only do so when specifically configured to, or when the request contains a header that activates a debugging mode.</p></div><div id="rfc.section.2.p.5"><p>When adding a value to the Cache-Status header field, caches SHOULD preserve the existing contents of the header, to allow debugging of the entire chain of caches handling the request.</p></div><div id="rfc.section.2.p.6"><p>The list members identify the cache that inserted the value, and MUST have a type of either sh-string or sh-token. Depending on the deployment, this might be a product or service name (e.g., ExampleCache or “Example CDN”), a hostname (“cache-3.example.com”), and IP address, or a generated string.</p></div><div id="rfc.section.2.p.7"><p>Each member of the list can also have a number of parameters that describe that cache’s handling of the request. While all of these parameters are OPTIONAL, caches are encouraged to provide as much information as possible.</p></div><div id="rfc.figure.u.2"><div><pre class="inline">
fwd           = sh-token
fwd-res       = sh-token
fwd-stored    = sh-boolean
res-fresh     = sh-integer
cache-fresh   = sh-integer
collapse-hit  = sh-boolean
collapse-wait = sh-integer
key           = sh-string
</pre></div></div><section id="the-fwd-parameter"><h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a> <a href="#the-fwd-parameter">The fwd parameter</a></h3><div id="rfc.section.2.1.p.1"><p>“fwd” indicates why the request went forward. If it is not present, the value defaults to “none”.</p></div><div id="rfc.section.2.1.p.2" class="avoidbreakafter"><p>It can have one of the following values:</p></div><div id="rfc.section.2.1.p.3"><ul><li>none - The request did not go forward; i.e., it was a hit, and was served from the cache.</li><li>bypass - The cache was configured to not handle this request</li><li>uri-miss - The cache did not contain any responses that matched the request URI</li><li>vary-miss - The cache contained a response that matched the request URI, but could not select a response based upon this request’s headers.</li><li>miss - The cache did not contain any responses that could be used to satisfy this request (to be used when an implementation cannot distinguish between uri-miss and vary-miss)</li><li>res-stale - The cache was able to select a response for the request, but it was stale</li><li>req-stale - The cache was able to select a fresh response for the request, but client request headers (e.g., Cache-Control request directives) did not allow its use</li></ul></div></section><section id="the-fwd-res-parameter"><h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a> <a href="#the-fwd-res-parameter">The fwd-res parameter</a></h3><div id="rfc.section.2.2.p.1"><p>“fwd-res” indicates what the result of the forward request was. It is only meaningful when fwd is “res-stale” or “req-stale”, and defaults to “full” if not present when fwd is one of those values.</p></div><div id="rfc.section.2.2.p.2" class="avoidbreakafter"><p>It can have one of the following values:</p></div><div id="rfc.section.2.2.p.3"><ul><li>full - indicates that the response was a complete response (any status code except 304 Not Modified and 206 Partial Response)</li><li>partial - indicates that the response was a 206 Partial Response</li><li>notmod - indicates that the response was a 304 Not Modified</li></ul></div></section><section id="the-fwd-stored-parameter"><h3 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a> <a href="#the-fwd-stored-parameter">The fwd-stored parameter</a></h3><div id="rfc.section.2.3.p.1"><p>“fwd-stored” indicates whether the cache stored the response; a true value indicates that it did. Only meaningful when fwd is not “none”.</p></div></section><section id="the-res-fresh-parameter"><h3 id="rfc.section.2.4"><a href="#rfc.section.2.4">2.4.</a> <a href="#the-res-fresh-parameter">The res-fresh parameter</a></h3><div id="rfc.section.2.4.p.1"><p>“res-fresh” indicates the response’s remaining freshness lifetime (as per <a href="#I-D.ietf-httpbis-cache"><cite title="HTTP Caching">[I-D.ietf-httpbis-cache]</cite></a>, Section 4.2.1), as an integer number of seconds, measured when the response is sent by the cache. This does not include freshness assigned by the cache (see “cache-fresh”). May be negative, to indicate staleness.</p></div></section><section id="the-cache-fresh-parameter"><h3 id="rfc.section.2.5"><a href="#rfc.section.2.5">2.5.</a> <a href="#the-cache-fresh-parameter">The cache-fresh parameter</a></h3><div id="rfc.section.2.5.p.1"><p>“cache-fresh” indicates the response’s remaining freshness lifetime as calculated by the cache, as an integer number of seconds, measured when the response is sent by the cache. This includes freshness assigned by the cache; e.g., through heuristics, local configuration, or other factors. May be negative, to indicate staleness.</p></div><div id="rfc.section.2.5.p.2"><p>If both cache-fresh and res-fresh appear as parameters on the same value, it implies that the cache freshness overrode the response freshness.</p></div></section><section id="the-collapse-hit-parameter"><h3 id="rfc.section.2.6"><a href="#rfc.section.2.6">2.6.</a> <a href="#the-collapse-hit-parameter">The collapse-hit parameter</a></h3><div id="rfc.section.2.6.p.1"><p>“collapse-hit” indicates whether this request was collapsed together with one or more other forward requests; if true, the response was successfully reused; if not, a new request had to be made. If not present, the request was not collapsed with others.</p></div></section><section id="the-collapse-wait-parameter"><h3 id="rfc.section.2.7"><a href="#rfc.section.2.7">2.7.</a> <a href="#the-collapse-wait-parameter">The collapse-wait parameter</a></h3><div id="rfc.section.2.7.p.1"><p>“collapse-wait” indicates the amount of time that the cache held the request while waiting to see if it could be successfully collapsed, as an integer number of milliseconds.</p></div></section><section id="the-key-parameter"><h3 id="rfc.section.2.8"><a href="#rfc.section.2.8">2.8.</a> <a href="#the-key-parameter">The key parameter</a></h3><div id="rfc.section.2.8.p.1"><p>“key” conveys a representation of the cache key used for the response. Note that this may be implementation-specific.</p></div></section></section><section id="examples"><h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a href="#examples">Examples</a></h2><div id="rfc.section.3.p.1" class="avoidbreakafter"><p>The most minimal cache hit:</p></div><div id="rfc.figure.u.3"><div><pre class="text">
Cache-Status: ExampleCache
</pre></div></div><div id="rfc.section.3.p.2" class="avoidbreakafter"><p>… but a polite cache will give some more information, e.g.:</p></div><div id="rfc.figure.u.4"><div><pre class="text">
Cache-Status: ExampleCache; res-fresh=376
</pre></div></div><div id="rfc.section.3.p.3" class="avoidbreakafter"><p>A “negative” hit (i.e., the cache imposed its own freshness lifetime):</p></div><div id="rfc.figure.u.5"><div><pre class="text">
Cache-Status: ExampleCache; cache-fresh=415
</pre></div></div><div id="rfc.section.3.p.4" class="avoidbreakafter"><p>A stale hit just has negative freshness:</p></div><div id="rfc.figure.u.6"><div><pre class="text">
Cache-Status: ExampleCache; res-fresh=-412
</pre></div></div><div id="rfc.section.3.p.5" class="avoidbreakafter"><p>Whereas a complete miss is:</p></div><div id="rfc.figure.u.7"><div><pre class="text">
Cache-Status: ExampleCache; fwd=uri-miss
</pre></div></div><div id="rfc.section.3.p.6" class="avoidbreakafter"><p>A miss that validated on the back-end server:</p></div><div id="rfc.figure.u.8"><div><pre class="text">
Cache-Status: ExampleCache; fwd=res-stale; fwd-res=notmod
</pre></div></div><div id="rfc.section.3.p.7" class="avoidbreakafter"><p>A miss that was collapsed with another request:</p></div><div id="rfc.figure.u.9"><div><pre class="text">
Cache-Status: ExampleCache; fwd=uri-miss; collapse-hit=?1
</pre></div></div><div id="rfc.section.3.p.8" class="avoidbreakafter"><p>A miss that the cache attempted to collapse, but couldn’t:</p></div><div id="rfc.figure.u.10"><div><pre class="text">
Cache-Status: ExampleCache; fwd=uri-miss;
              collapse-hit=?0; collapse-wait=240
</pre></div></div><div id="rfc.section.3.p.9" class="avoidbreakafter"><p>Going through two layers of caching, both of which were hits, and the second collapsed with other requests:</p></div><div id="rfc.figure.u.11"><div><pre class="text">
Cache-Status: OriginCache; cache-fresh=1100; collapse-hit=?1,
              "CDN Company Here"; res-fresh=545,
</pre></div></div></section><section id="security-considerations"><h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a href="#security-considerations">Security Considerations</a></h2><div id="rfc.section.4.p.1"><p>Information about a cache’s content can be used to infer the activity of those using it. Generally, access to sensitive information in a cache is limited to those who are authorised to access that information (using a variety of techniques), so this does not represent an attack vector in the general sense.</p></div><div id="rfc.section.4.p.2"><p>However, if the Cache-Status header is exposed to parties who are not authorised to obtain the response it occurs within, it could expose information about that data.</p></div><div id="rfc.section.4.p.3"><p>For example, if an attacker were able to obtain the Cache-Status header from a response containing sensitive information and access were limited to one person (or limited set of people), they could determine whether that information had been accessed before. This is similar to the information exposed by various timing attacks, but is arguably more reliable, since the cache is directly reporting its state.</p></div><div id="rfc.section.4.p.4"><p>Mitigations include use of encryption (e.g., TLS <a href="#RFC8446"><cite title="The Transport Layer Security (TLS) Protocol Version 1.3">[RFC8446]</cite></a>)) to protect the response, and careful controls over access to response headers (as are present in the Web platform). When in doubt, the Cache-Status header field can be omitted.</p></div></section><section id="rfc.references"><h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a> References</h2><section><div id="rfc.references.1"><h3 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a> Normative References</h3><dl class="reference"><dt id="I-D.ietf-httpbis-cache">[I-D.ietf-httpbis-cache]</dt><dd>Fielding, R., Nottingham, M., and J. Reschke, “<a href="https://tools.ietf.org/html/draft-ietf-httpbis-cache-05">HTTP Caching</a>”, Internet-Draft draft-ietf-httpbis-cache-05 (<a href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-cache">work in progress</a>), July 2019.</dd><dt id="I-D.ietf-httpbis-header-structure">[I-D.ietf-httpbis-header-structure]</dt><dd>Nottingham, M. and P. Kamp, “<a href="https://tools.ietf.org/html/draft-ietf-httpbis-header-structure-13">Structured Headers for HTTP</a>”, Internet-Draft draft-ietf-httpbis-header-structure-13 (<a href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-header-structure">work in progress</a>), August 2019.</dd><dt id="RFC2119">[RFC2119]</dt><dd>Bradner, S., “<a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>”, BCP 14, RFC 2119, <a href="http://dx.doi.org/10.17487/RFC2119">DOI 10.17487/RFC2119</a>, March 1997, &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.</dd><dt id="RFC5234">[RFC5234]</dt><dd>Crocker, D., Ed. and P. Overell, “<a href="https://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>”, STD 68, RFC 5234, <a href="http://dx.doi.org/10.17487/RFC5234">DOI 10.17487/RFC5234</a>, January 2008, &lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;.</dd><dt id="RFC7405">[RFC7405]</dt><dd>Kyzivat, P., “<a href="https://tools.ietf.org/html/rfc7405">Case-Sensitive String Support in ABNF</a>”, RFC 7405, <a href="http://dx.doi.org/10.17487/RFC7405">DOI 10.17487/RFC7405</a>, December 2014, &lt;<a href="https://www.rfc-editor.org/info/rfc7405">https://www.rfc-editor.org/info/rfc7405</a>&gt;.</dd><dt id="RFC8174">[RFC8174]</dt><dd>Leiba, B., “<a href="https://tools.ietf.org/html/rfc8174">Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</a>”, BCP 14, RFC 8174, <a href="http://dx.doi.org/10.17487/RFC8174">DOI 10.17487/RFC8174</a>, May 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.</dd></dl></div></section><section><div id="rfc.references.2"><h3 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a> Informative References</h3><dl class="reference"><dt id="RFC8446">[RFC8446]</dt><dd>Rescorla, E., “<a href="https://tools.ietf.org/html/rfc8446">The Transport Layer Security (TLS) Protocol Version 1.3</a>”, RFC 8446, <a href="http://dx.doi.org/10.17487/RFC8446">DOI 10.17487/RFC8446</a>, August 2018, &lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;.</dd></dl></div></section></section><section id="rfc.authors" class="avoidbreakinside"><h2><a href="#rfc.authors">Author's Address</a></h2><address><b>Mark Nottingham</b><br>Fastly<br>EMail: <a href="mailto:mnot@mnot.net">mnot@mnot.net</a><br>URI: <a href="https://www.mnot.net/">https://www.mnot.net/</a></address></section></body></html>
